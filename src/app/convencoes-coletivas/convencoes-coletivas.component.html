<div class="container">
  <h2 class="center">Convenções Coletivas</h2>
</div>
<br>
<!--<div class="container">
    <div class="row">
        <div class="input-field col s7">
          <select  name="contrato" materialize="material_select" [ngModel]="contratos" (change)="onChange($event.target.value)">
            <option value="" disabled selected >Selecione um contrato</option>
            <option class="truncate" *ngFor="let contrato of contratos" [value]="contrato.codigo">{{contrato.nomeDaEmpresa}} - Contrato nº: {{contrato.numeroDoContrato}}/{{contrato.anoDoContrato}}</option>
          </select>
          <label>Selecione um contrato</label>
        </div>
    </div>
</div> -->
<div class="container ">
  <div class="row">
    <div class="left" style="margin-bottom: 20px">
      <button class="btn waves-effect" (click)="openModal()" >Cadastrar Nova Convenção Coletiva</button>
    </div>
    <div id="modal1" class="modal bottom-sheet" materialize="modal" [materializeParams]="[{dismissible: false}]"
         [materializeActions]="modalActions">
      <div class="modal-content">
        <app-cadastrar-convencao *ngIf="render"></app-cadastrar-convencao>
      </div>
      <div class="modal-footer">
        <button class="btn waves-effect left" (click)="closeModal()">Cancelar</button>
        <button class="btn waves-effect right" [disabled]="convencaoService.getValidity()" (click)="cadastraConvencao()">
          Cadastrar
        </button>
      </div>
    </div>
    <div class="center">
      <table class="centered hoverable highlight">
        <thead>
        <tr>
          <th>Nome</th>
          <th>Sigla</th>
          <th>Data Base</th>
          <th>Descrição</th>
          <th>Login Atualização</th>
          <th>Data Atualização</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let convencao of convencoes">
          <td>{{convencao.nome}}</td>
          <td>{{convencao.sigla}}</td>
          <td>{{convencao.dataBase | date: 'shortDate'}}</td>
          <td>{{convencao.descricao}}</td>
          <td>{{convencao.loginAtualizacao | uppercase}}</td>
          <td>{{convencao.dataAtualizacao | date: 'shortDate'}}</td>
          <td class="foo"><i class="material-icons" (click)="editarConvencao(convencao.codigo)" title="Editar Convenção Coletiva">edit</i></td>
          <td class="foo"><i class="material-icons" (click)="openModal2(convencao.codigo)" title="Apagar Convenção Coletiva">delete</i></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<div id="modal2" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions2">
  <div class="modal-content">
    <div class="container">
      <div class="row">
        <h1 class="center">Alerta</h1>
      </div>
      <div class="row">
        <h5 class="center">Tem certeza que deseja APAGAR esta Convenção ?</h5>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn waves-effect right" (click)="deletarConvencao()">Sim</button>
    <button class="btn waves-effect left" (click)="closeModal2()">Não</button>
  </div>
</div>
