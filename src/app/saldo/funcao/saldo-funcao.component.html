<div class="container">
  <ul>
    <a class="tooltip right"><span class="tooltiptext">Aqui são descritos os saldos totais por função de cada contrato.
    Caso queira consultar o  saldo  de  um  funcionário  específico, selecione a opção Saldo Individual na aba Saldos.
    </span> <i class="material-icons small" style="color: black">help_outline</i></a>
  </ul>
  <h2 class="center">Saldo Total por Função</h2>
  <br>
  <ul materialize="collapsible" class="collapsible" data-collapsible="accordion">
    <li *ngFor="let contrato of contratos">
      <div class="collapsible-header center" (click)="defineCodigoContrato(contrato.codigo)">
        <h5>{{contrato.nomeDaEmpresa}} - Contrato nº:
          {{contrato.numeroDoContrato}}</h5>
      </div>
      <div class="collapsible-body">
        <i class="fas fa-file-excel right" style="color: #249d76; font-size: 26px; cursor: pointer" title="Gerar relatório em Excel"
           (click)="gerarRelatorioExcel(contrato.nomeDaEmpresa, contrato.codigo)"></i>
        <div class="row" *ngIf="!saldos && codigoContrato">
          <div class="col s12 grey lighten-4" style="margin-top: 1em">
            <br>
            <h5 class="center-align">Não há cálculos realizados ainda ! <i class="small material-icons">mood_bad</i></h5>
          </div>
        </div>
        <table class="striped centered responsive-table hoverable highlight bordered" style="box-shadow: none!important;" *ngIf="saldos && codigoContrato">
          <thead>
          <tr>
            <th>Função</th>
            <th>Férias</th>
            <th>Terço constitucional</th>
            <th>Décimo terceiro</th>
            <th>Incidência</th>
            <th>MULTA do FGTS</th>
            <th>Saldo</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let saldo of saldos; let k = index">
            <td>{{saldo.funcao}}</td>
            <td>{{saldo.valorFeriasRetido - saldo.valorFeriasRestituido| currency:'BRL':true:'1.2-2'}}</td>
            <td>{{saldo.valorTercoRetido - saldo.valorTercoRestituido | currency:'BRL':true:'1.2-2'}}</td>
            <td>{{saldo.valorDecimoTerceiroRetido - saldo.valorDecimoTerceiroRestituido | currency:'BRL':true:'1.2-2'}}</td>
            <td>{{saldo.valorIncidenciaRetido - saldo.valorIncidenciaFeriasRestituido - saldo.valorIncidenciaTercoRestituido - saldo.valorIncidenciaDecimoTerceiroRestituido | currency:'BRL':true:'1.2-2'}}</td>
            <td>{{saldo.valorMultaFGTSRetido - saldo.valorMultaFGTSRestituido | currency:'BRL':true:'1.2-2'}}</td>
            <td>{{saldo.valorSaldo | currency:'BRL':true:'1.2-2'}}</td>
          </tr>
          <tr>
            <td><b>Somatório</b></td>
            <td><b>{{somaFerias| currency:'BRL':true:'1.2-2'}}</b></td>
            <td><b>{{somaTerco| currency:'BRL':true:'1.2-2'}}</b></td>
            <td><b>{{somaDecimo| currency:'BRL':true:'1.2-2'}}</b></td>
            <td><b>{{somaIncidencia| currency:'BRL':true:'1.2-2'}}</b></td>
            <td><b>{{somaMultaFGTS| currency:'BRL':true:'1.2-2'}}</b></td>
            <td><b>{{somaSaldo| currency:'BRL':true:'1.2-2'}}</b></td>
          </tr>
          </tbody>
        </table>
      </div>
    </li>
  </ul>
</div>
<!--  <div class="pin-top material-icons right" title="Aqui são descritos os saldos totais por função de cada contrato.-->
<!--Caso queira consultar o  saldo  de  um  funcionário  específico,-->
<!--selecione  a   aba   Saldo   Individual   no   menu   principal." style="cursor: help">help_outline</div>-->
<!--  <h2 class="center">Saldo Total por Função</h2>-->
<!--  <div class="row">-->
<!--    <div class="input-field col l7">-->
<!--      <select id="selecao_contrato" materialize="material_select" [materializeSelectOptions]="contratos"-->
<!--              (change)="defineCodigoContrato($event.target.value)">-->
<!--        <option disabled>Selecione um contrato</option>-->
<!--        <option *ngFor="let contrato of contratos" [value]="contrato.codigo"-->
<!--                [selected]="codigoContrato == contrato.codigo">{{contrato.nomeDaEmpresa}} - Contrato-->
<!--          nº: {{contrato.numeroDoContrato}}</option>-->
<!--      </select>-->
<!--      <label for="selecao_contrato">Contrato<span class="red-text"> *</span></label>-->
<!--    </div>-->
<!--  </div>-->


<!--
<th >Total retido</th>
<th >Férias restituído</th>
<th >Terço const. restituído</th>
<th >Incid. de férias restituído</th>
<th >Incid. de terço restituído</th>
<th >Total de férias restituído</th>
<th >Décimo terceiro restituído</th>
<th >Incid. sobre 13° restituído</th>
<th >Total de 13º restituído</th>
<th >Total restituído</th>
-->

<!--
<td >{{saldo.valorTotalRetido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorFeriasRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorTercoRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorIncidenciaFeriasRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorIncidenciaTercoRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorTotalFeriasRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorDecimoTerceiroRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorIncidenciaDecimoTerceiroRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorTotalDecimoTerceiroRestituido | currency:'BRL':true:'1.2-2'}}</td>
<td >{{saldo.valorTotalRestituido | currency:'BRL':true:'1.2-2'}}</td>
-->
