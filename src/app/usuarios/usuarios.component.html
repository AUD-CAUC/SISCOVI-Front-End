<div class="container">
  <h2 class="center-align">Usuários</h2>
</div>
<div class="container">
  <div class="row">
    <div class="col m6 l3">
      <button class="left btn waves-effect" (click)="openModal()">Novo Usuário<i class="material-icons right">add</i></button>
    </div>
    <div class="modal bottom-sheet" id="modal1" materialize="modal" [materializeActions]="modalActions" [materializeParams]="[{dismissible: false}]" >
      <div class="modal-content">
        <app-cadastro-usuario *ngIf="render" [cadUs]="cadUs"></app-cadastro-usuario>
      </div>
      <div class="modal-footer" *ngIf="render">
        <button class="btn waves-effect waves-light left" (click)="closeModal()">Cancelar</button>
        <button class="btn waves-effect waves-light right" [disabled]="cadUs.validity" (click)="sendForm($event)">Cadastrar Novo Usuário</button>
      </div>
    </div>
  </div>
    <table class="bordered centered highlight z-depth-2 hoverable">
      <thead>
        <tr>
          <th>Nome</th>
          <th>Perfil</th>
          <th>Login</th>
          <th>Atualizado Por...</th>
          <th>Última Atualização</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let usuario of usuarios">
          <td>{{usuario.nome}}</td>
          <td>{{usuario.perfil}}</td>
          <td>{{usuario.login}}</td>
          <td>{{usuario.loginAtualizacao}}</td>
          <td>{{usuario.ultimaAtualizacao | date: 'shortDate'}}</td>
          <td class="foo"><i class="material-icons" (click)="editarUsuario(usuario.codigo)" title="Editar Usuário">edit</i></td>
          <td class="foo"><i class="material-icons" (click)="openModal2(usuario.codigo)" title="Apagar Usuário">delete</i></td>
        </tr>
      </tbody>
    </table>
</div>
<div id="modal2" class="modal" materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions2">
  <div class="modal-content">
    <div class="container">
      <div class="row">
        <h1 class="center">Alerta</h1>
      </div>
      <div class="row">
        <h5 class="center">Tem certeza que deseja APAGAR este Usuário ?</h5>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button class="btn waves-effect right" (click)="deletarUsuario()">Sim</button>
    <button class="btn waves-effect left" (click)="closeModal2()">Não</button>
  </div>
</div>
